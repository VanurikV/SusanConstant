require(["OK/pms!webVitalsLogConfig"],(function(e){var n=e.config;n.enabled&&require(["OK/WebVitalsLogger"],(function(e){e.logger.activate(n.consoleLogsEnabled,n.inpReportsCapacity,n.clsReportsCapacity)}))})),OK.util.isIEMetro()&&document.documentElement.classList.add("ie-metro"),function(e){var n=e.getElementById("topPanel");n&&n.addEventListener("click",(function(e){var n=(e.target||e.srcElement).tagName.toLowerCase();OK.Layers.stack.length&&"input"!=n&&"a"!=n&&OK.Layers.unregisterLast("topPanelClick")}))}(document),OK.showOnlineUsers={top:0,doResize:function(){}},OK.hideFeed=function(e){var n=document.getElementById(e);n&&OK.css.display(n,0)},function(){var e,n=[],r=[],t=1,o={},i=new Set,l=function(e,n,r){var t=v();if(t?OK.Tracer.setErrorKey("layerId",t):OK.Tracer.removeErrorKey("layerId"),OK.fn.isDebug()&&console.log("layer._call('"+e+"', '"+JSON.stringify(n)+"', '"+JSON.stringify(r)+"') topLayer = "+JSON.stringify(t)),o.hasOwnProperty(e)){var l=[],a=o[e];for(s=0;s<a.length;s++)l[s]=a[s];for(var s=0,c=l.length;s<c;s++)try{l[s].call(null,n,r,e)}catch(e){}}Array.from(i).forEach((function(t){t.call(null,e,n,r)}))},a=function(e){return e.replace(/st\.(fwd|layer\.direction)\=.*?(&|$)/g,"")},s=function(e,r,t,o,i,a,s){OK.loader.execRequire("OK/ToolbarGrowl",(function(e){e.hideAll()}));for(var c={id:e,deactivateFn:r,hookInstance:t=t||null,preventCloseOnEsc:o=o||!1,keyDownHandler:i=i||function(){},keyUpHandler:s=s||function(){},redirectAfterClose:a=a||null},g=!1,u=0;u<n.length;u++)n[u].id==c.id&&(g=!0,n.splice(u,1),OK.logging.logger.success("layerManager","reRegister",c.id));n.push(c),1!=n.length||g||f(),l(c.id,!0),d(),OK.logging.logger.success("layerManager","register",c.id)},c=function(e,n,r,t,o,i,l){s(e,n,r,t,o,i,l),require(["OK/AccessibleModal"],(function(n){n.AccessibleModal.registerModal(e)}))};var g=function(e,r){if(n.length)if(n[n.length-1].preventCloseOnEsc)OK.logging.logger.success("layerManager","escDisabledForLayer",n[n.length-1].id);else{var t=n.pop();t?(h(t),n.length||p(),d(),null!==t.redirectAfterClose&&(OK.navigation.redirect?OK.navigation.redirect(t.redirectAfterClose):window.location.assign(t.redirectAfterClose)),l(t.id,!1,r),require(["OK/AccessibleModal"],(function(e){e.AccessibleModal.removeModal(t.id)})),OK.logging.logger.success("layerManager","unregister",t.id),OK.logging.logger.success("layerManager",e,t.id)):OK.logging.logger.success("layerManager","popFailed")}else OK.logging.logger.success("layerManager","stackEmpty")},d=function(){var e=!n.length||1==n.length&&(-1!=["posting_form","video_player","OldFeedPopupLayer"].indexOf(n[0].id)||0===n[0].id.indexOf("dd-menu"));if(1==n.length&&"modal_hook"==n[0].id){var r=document.getElementById("hook_Modal_popLayerModal");r&&r.classList.contains("layer__disabled")&&(e=!0)}require(["OK/OhManager"],(function(n){n.switchScrolling(e)}))};function u(){var e=OK.hookModel.getHookById("ForthColumnTopBannerInner");e&&e.handle()}var f=function(){OK.loader.use(["jQuery"],(function(){$("body").on("click.popLayers",".modal_overlay, .modal-new_close_ovr, .layer_ovr, .ic_close, #hook_Block_PromoMainLayer .layerPanelClose, .js-close-layer",(function(e){g("shadowClick"),e.stopImmediatePropagation()})).on("keydown.popLayers",(function(r){var t=n[n.length-1];t&&t.keyDownHandler.call(this,r),27!==r.keyCode||e||(e=!0,g("esc"),r.preventDefault(),r.stopPropagation())})).on("keyup.popLayers",(function(r){var t=n[n.length-1];t&&t.keyUpHandler.call(this,r),e=!1,27===r.keyCode&&r.preventDefault(),r.stopPropagation()}))})),require(["OK/LayersEventBuses"],(function(e){e.ANY_OPENED.emit({},this)})),u()},p=function(){OK.loader.use(["jQuery"],(function(){e=!1,$("body").off(".popLayers")})),require(["OK/ToolbarGrowl"],(function(e){e.showAny()})),require(["OK/LayersEventBuses"],(function(e){e.ANY_CLOSED.emit(null,this)})),u()},h=function(e){e.deactivateFn.call(e.hookInstance)},y=function(e){for(var r,t=0;t<n.length;t++)n[t].id==e&&((r=n.splice(t,1))&&r[0]&&l(r[0].id,!1),OK.logging.logger.success("layerManager","unregister",e));r||OK.logging.logger.success("layerManager","unregisterLayerNotFound",e),!n.length&&r&&p(),d()},O=function(){return 0!=n.length},v=function(){return O()?n[n.length-1].id:null};OK.Layers={register:c,registerWithoutAccessibility:s,open:function(e){e.shouldIgnoreA11y&&s(e.layerName,e.deactivateFn,e.hookInstance,e.preventCloseOnEsc,e.keyDownHandler,e.redirectAfterClose,e.keyUpHandler),c(e.layerName,e.deactivateFn,e.hookInstance,e.preventCloseOnEsc,e.keyDownHandler,e.redirectAfterClose,e.keyUpHandler)},remove:function(e){y(e),require(["OK/AccessibleModal"],(function(n){n.AccessibleModal.removeModal(e)}))},removeWithoutAccessibility:y,isAnyLayerOpened:O,isLayerOpened:function(e){if(n)for(var r=0;r<n.length;r++){if(n[r].id==e)return!0}return!1},unregisterAll:function(){for(var e=n.length;e>0;e--)g("unregisterAll")},unregisterLast:g,unregisterById:function(e,r){for(var t=0;t<n.length;t++)if(n[t].id===e){var o=n[t];n.splice(t,1),o?(h(o),n.length||p(),d(),null!==o.redirectAfterClose&&(OK.navigation.redirect?OK.navigation.redirect(o.redirectAfterClose):window.location.assign(o.redirectAfterClose)),l(o.id,!1,r),require(["OK/AccessibleModal"],(function(e){e.AccessibleModal.removeModal(o.id)})),OK.logging.logger.success("layerManager","unregister",o.id)):OK.logging.logger.success("layerManager","popFailed")}},stack:n,push:function(e){if(!(t<=1)){e=a(e),r.push({link:e});var n=r.length-t;n>0&&r.splice(0,n)}},pop:function(){if(t<=1||0==r.length)return null;if(r.splice(r.length-1,1),0==r.length)return null;var e=r[r.length-1],n=e.link;return e.attrs&&(n+=e.attrs),r.splice(r.length-1,1),"undefined"!=typeof navigateOnUrlFromJS?navigateOnUrlFromJS(n):require(["OK/PopLayerPhoto"],(function(e){e.handleOnNavigate(n)})),n},lastUrl:function(){if(0===r.length)return"";var e=r[r.length-1];return e?e.link:""},changeAttrs:function(e,n){if(0!=r.length){var t=r[r.length-1].link.indexOf("?")>=0?"&":"?";t+="st.fwd=",e=encodeURIComponent(e),t+=n?"on&st.lastelem="+e:"off&st.firstelem="+e,r[r.length-1].attrs=t}},clear:function(){r=[]},replace:function(e){t<=1||0==r.length||(e=a(e),r[r.length-1]={link:e})},setMaxSize:function(e){t=e},onLayerShown:OK.fn.empty,onLayerHidden:OK.fn.empty,subscribe:function(e,n){o.hasOwnProperty(e)?o[e].push(n):o[e]=[n]},unsubscribe:function(e,n){if(n){if(!o[e])return;var r=o[e].indexOf(n);r>-1&&o[e].splice(r,1)}else o[e]=[]},getTopLayerId:v,subscribeGlobal:function(e){i.add(e)},unsubscribeGlobal:function(e){i.delete(e)}},OK.historyManager.isHistorySupported()&&!window.onpopstate&&(window.onpopstate=function(e){e.state&&OK.Layers.unregisterAll()})}(),require(["OK/utils/throttle"],(function(e){window.addEventListener("resize",e(100,(function(){OK.setContentWidth()})))})),function(){if(null!=document.getElementById("sc")){var e=OK.scrollBar.width,n=document.createElement("style"),r=".fake-toolbar {width: "+e+"px}.scroll-right-indent { right: "+e+"px !important; }.scroll-right-padding { padding-right: "+e+"px !important; }.scroll-right-margin { margin-right: "+e+"px !important; }",t=document.getElementsByTagName("head")[0];if(OK.util.isIEMetro()||(r+="html.oh #hook_PopLayer_popLayer, html.oh .topPanel, html.oh .modal, html.oh .scroll-modal-indent {border-right:"+e+"px transparent solid}"),t.appendChild(n),n.styleSheet)n.styleSheet.cssText=r;else{var o=document.createTextNode(r);n.appendChild(o)}}}(),window.addEventListener("message",(function(e){"ok_ping"==e.data&&e.source.postMessage("ok_pong","*")}),!1),require(["OK/StartupTimingLogger"],(function(e){e.activate()}));
//# sourceMappingURL=/res/source-maps/js/scriptBottom.js.map