define(["require","exports","OK/webapi","OK/AuthLoginPopup","./AuthTypes"],(function(require,e,t,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.JoinGroupAfterAuth=void 0;var r=function(){var e=this;this.element=null,this.groupId=null,this.href=null,this.loginLayerText=null,this.loginLayerHeaderImageConf={},this.stateParams=null,this.clickHandler=function(r){if(r.preventDefault(),null===e.groupId||null===e.href)throw new Error("Group id and href cannot be null!");t.invoke("login/addLoginIntentForJoinGroup",{groupId:e.groupId,href:e.href}).then((function(t){var r={loginIntent:t,text:e.loginLayerText||"",headerImage:e.loginLayerHeaderImageConf,stateParams:e.stateParams,popupTriggeringAction:i.AuthTriggerAction.Group_Enter};n.AuthLoginPopup.open(r)}))}};r.prototype.activate=function(e){this.element=e,this.groupId=this.element.dataset.groupId||null,this.href=this.element.href||this.element.dataset.href||null,this.loginLayerText=this.element.dataset.loginLayerText||null,this.loginLayerHeaderImageConf=JSON.parse(this.element.dataset.loginLayerHeaderImageConf||null),this.stateParams=JSON.parse(this.element.dataset.stateParams||null),this.element.addEventListener("click",this.clickHandler)},r.prototype.deactivate=function(){this.element.removeEventListener("click",this.clickHandler),this.element=null,this.groupId=null,this.href=null,this.loginLayerText=null,this.loginLayerHeaderImageConf=null},e.JoinGroupAfterAuth=r,e.default=r}));
//# sourceMappingURL=/res/source-maps/js/app/JoinGroupAfterAuth.js.map